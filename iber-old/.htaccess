RewriteEngine On

# ------------------------------------------------------
# Force non-www
RewriteCond %{HTTP_HOST} ^www\.iberrtech\.com [NC]
RewriteRule ^(.*)$ https://iberrtech.com/$1 [L,R=301]

# ------------------------------------------------------
# Redirect lowercase services/seo.php to /Services/Seo
RewriteCond %{THE_REQUEST} \s/services/seo\.php [NC]
RewriteRule ^services/seo\.php$ /Services/Seo [R=301,L]

# ------------------------------------------------------
# Internally rewrite /Services/Seo to services/seo.php
RewriteRule ^Services/Seo/?$ /services/seo.php [NC,L]

# ------------------------------------------------------
# Redirect /Services/Seo.html to /services/seo.php
RewriteCond %{REQUEST_URI} ^/Services/Seo\.html$ [NC]
RewriteRule ^Services/Seo\.html$ /services/seo.php [L,R=301]

# ------------------------------------------------------
# Redirect /Services/web-design-Malappuram-calicut.html
RewriteCond %{REQUEST_URI} ^/Services/web-design-Malappuram-calicut\.html$ [NC]
RewriteRule ^Services/web-design-Malappuram-calicut\.html$ /services/web-design-malappuram-calicut.php [L,R=301]

# ------------------------------------------------------
# Optional: Debugging output header (can be removed in production)
RewriteRule .* - [E=MY_TEST:1]
Header set X-Debug-Test %{MY_TEST}e

# ------------------------------------------------------
# PHP Handler (auto-generated by cPanel, leave as-is)
<IfModule mime_module>
  AddHandler application/x-httpd-ea-php81 .php .php8 .phtml
</IfModule>
